<link rel="import" href="mathbox-plot.html">
<link rel="import" href="function-input.html">
<link rel="import" href="function-parser.html">
<link rel="import" href="function-signature.html">
<link rel="import" href="variable-slider.html">

<dom-module id="function-row">
  <template>
    <style>
      :host {
        display: flex;
        flex-wrap: nowrap;
        align-items: center;
        height:192px;
      }
      #plot {
        flex-basis: 480px;
      }
    </style>
    <function-signature functor="[[functor]]" symbol='f'></function-signature>
    <function-input functor='{{functor}}'></function-input>
    <variable-slider id='slider' on-immediate-value-change="slideVar"></variable-slider>
    <mathbox-plot functor="[[functor]]" id="plot" animated='true'></mathbox-plot>
  </template>

  <script>
    Polymer({
      is: 'function-row',
      slideVar: function(e, detail) {
        if (this.functor.symbols.length == 2) {
          this.functor.scope.y = this.$.slider.getValue();
        }
      },
    });
 </script>
</dom-module>